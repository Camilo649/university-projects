/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($){"use strict";Drupal.behaviors.simple_recaptcha_buttons={attach:function(context,drupalSettings){function recaptchaButtons(formIds){for(let formId in formIds){let $fm=$('*[data-recaptcha-id="'+formId+'"]');if($fm[0].tagName!=='FORM')$fm=$($fm[0].querySelector('form'));const $form=$fm;let count=$form.find('input[type="submit"]').length;if(count===1){$form.find('[type="submit"]').addClass('simple-recaptcha-submit');continue;}const $primary=$form.find('.button--primary');if($primary.length>0){$form.find('.button--primary').addClass('simple-recaptcha-submit');continue;}$form.find('[type="submit"]').last().addClass('simple-recaptcha-submit');}}if(typeof drupalSettings.simple_recaptcha!=='undefined')recaptchaButtons(drupalSettings.simple_recaptcha.form_ids);if(typeof drupalSettings.simple_recaptcha_v3!=='undefined')recaptchaButtons(drupalSettings.simple_recaptcha_v3.forms);}};})(jQuery);;
const event=new Event("grecaptcha.onload");var onloadRecaptchaCallback=function(){document.dispatchEvent(event);};jQuery(document).ajaxSuccess(function(){document.dispatchEvent(event);});(function($){"use strict";Drupal.behaviors.simple_recaptcha={attach:function(context,drupalSettings){for(let formId in drupalSettings.simple_recaptcha.form_ids){let $fm=$('*[data-recaptcha-id="'+formId+'"]');if($fm[0].tagName!=='FORM')$fm=$($fm[0].querySelector('form'));const $form=$fm;once('simple-recaptcha',$form).forEach(function(form){const $form=$(form);const $submit=$form.find('.simple-recaptcha-submit');$submit.attr("data-disabled","true");$submit.attr('data-html-form-id',$form.attr("id"));const formHtmlId=$form.attr("id");const $captcha=$form.find(".recaptcha-wrapper");const captchas=[];const render=function(){if($captcha.length&&typeof captchas[formHtmlId]==='undefined'){captchas[formHtmlId]=grecaptcha.render($captcha.attr("id"),{sitekey:drupalSettings.simple_recaptcha.sitekey});$captcha.fadeIn();$captcha.addClass('recaptcha-visible');}};if(typeof Drupal.Ajax!=='undefined'&&typeof Drupal.Ajax.prototype.beforeSubmitSimpleRecaptchaOriginal==='undefined'){const beforeSubmitSimpleRecaptchaOriginal=Drupal.Ajax.prototype.beforeSubmit;Drupal.Ajax.prototype.beforeSubmit=function(form_values,element,options){let currentFormIsRecaptcha=form_values.find(function(form_id){return form_id.value===formId;});if(typeof currentFormIsRecaptcha!=='undefined'){let token=$form.find('input[name="simple_recaptcha_token"]').val();if(typeof token==="undefined"||token===""){this.ajaxing=false;return false;}}return beforeSubmitSimpleRecaptchaOriginal.call(this,form_values,element,options);};}if(drupalSettings.simple_recaptcha.explicit_render)document.addEventListener('grecaptcha.onload',function(){render();});$submit.on("click",function(e){if($(this).attr("data-disabled")==="true")if($captcha.length&&typeof captchas[formHtmlId]==='undefined'){render();e.preventDefault();}else{const response=grecaptcha.getResponse(captchas[formHtmlId]);if(typeof response!=='undefined'&&response.length){e.preventDefault();const $currentSubmit=$('[data-html-form-id="'+formHtmlId+'"]');$form.find('input[name="simple_recaptcha_token"]').val(response);$currentSubmit.removeAttr("data-disabled");$currentSubmit.click();$currentSubmit.mousedown();}else{$captcha.children().css({"border":"1px solid #e74c3c","border-radius":"4px"});$captcha.addClass('recaptcha-error');e.preventDefault();}}});});}}};})(jQuery);;
/* @license GPL-2.0-or-later https://raw.githubusercontent.com/jquery-form/form/master/LICENSE */
(function(factory){if(typeof define==='function'&&define.amd)define(['jquery'],factory);else if(typeof module==='object'&&module.exports)module.exports=function(root,jQuery){if(typeof jQuery==='undefined')if(typeof window!=='undefined')jQuery=require('jquery');else jQuery=require('jquery')(root);factory(jQuery);return jQuery;};else factory(jQuery);}(function($){'use strict';var rCRLF=/\r?\n/g;var feature={};feature.fileapi=$('<input type="file">').get(0).files!==undefined;feature.formdata=(typeof window.FormData!=='undefined');var hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp)return this.attr.apply(this,arguments);var val=this.prop.apply(this,arguments);if((val&&val.jquery)||typeof val==='string')return val;return this.attr.apply(this,arguments);};$.fn.ajaxSubmit=function(options,data,dataType,onSuccess){if(!this.length){log('ajaxSubmit: skipping submit process - no element selected');return this;}var method,action,url,isMsie,iframeSrc,$form=this;if(typeof options==='function')options={success:options};else if(typeof options==='string'||(options===false&&arguments.length>0)){options={'url':options,'data':data,'dataType':dataType};if(typeof onSuccess==='function')options.success=onSuccess;}else{if(typeof options==='undefined')options={};}method=options.method||options.type||this.attr2('method');action=options.url||this.attr2('action');url=(typeof action==='string')?action.trim():'';url=url||window.location.href||'';if(url)url=(url.match(/^([^#]+)/)||[])[1];isMsie=/(MSIE|Trident)/.test(navigator.userAgent||'');iframeSrc=(isMsie&&/^https/i.test(window.location.href||''))?'javascript:false':'about:blank';options=$.extend(true,{url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc},options);var veto={};this.trigger('form-pre-serialize',[this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');return this;}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log('ajaxSubmit: submit aborted via beforeSerialize callback');return this;}var traditional=options.traditional;if(typeof traditional==='undefined')traditional=$.ajaxSettings.traditional;var elements=[];var qx,a=this.formToArray(options.semantic,elements,options.filtering);if(options.data){var optionsData=typeof (options.data)==="function"?options.data(a):options.data;options.extraData=optionsData;qx=$.param(optionsData,traditional);}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log('ajaxSubmit: submit aborted via beforeSubmit callback');return this;}this.trigger('form-submit-validate',[a,this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-submit-validate trigger');return this;}var q=$.param(a,traditional);if(qx)q=(q?(q+'&'+qx):qx);if(options.type.toUpperCase()==='GET'){options.url+=(options.url.indexOf('?')>=0?'&':'?')+q;options.data=null;}else options.data=q;var callbacks=[];if(options.resetForm)callbacks.push(function(){$form.resetForm();});if(options.clearForm)callbacks.push(function(){$form.clearForm(options.includeHidden);});if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data,textStatus,jqXHR){var successArguments=arguments,fn=options.replaceTarget?'replaceWith':'html';$(options.target)[fn](data).each(function(){oldSuccess.apply(this,successArguments);});});}else{if(options.success)if(Array.isArray(options.success))callbacks=callbacks.concat(options.success);else callbacks.push(options.success);}options.success=function(data,status,xhr){var context=options.context||this;for(var i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form]);};if(options.error){var oldError=options.error;options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form]);};}if(options.complete){var oldComplete=options.complete;options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form]);};}var fileInputs=$('input[type=file]:enabled',this).filter(function(){return $(this).val()!=='';});var hasFileInputs=fileInputs.length>0;var mp='multipart/form-data';var multipart=($form.attr('enctype')===mp||$form.attr('encoding')===mp);var fileAPI=feature.fileapi&&feature.formdata;log('fileAPI :'+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;var jqxhr;if(options.iframe!==false&&(options.iframe||shouldUseFrame))if(options.closeKeepAlive)$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a);});else jqxhr=fileUploadIframe(a);else if((hasFileInputs||multipart)&&fileAPI)jqxhr=fileUploadXhr(a);else jqxhr=$.ajax(options);$form.removeData('jqxhr').data('jqxhr',jqxhr);for(var k=0;k<elements.length;k++)elements[k]=null;this.trigger('form-submit-notify',[this,options]);return this;function deepSerialize(extraData){var serialized=$.param(extraData,options.traditional).split('&');var len=serialized.length;var result=[];var i,part;for(i=0;i<len;i++){serialized[i]=serialized[i].replace(/\+/g,' ');part=serialized[i].split('=');result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])]);}return result;}function fileUploadXhr(a){var formdata=new FormData();for(var i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData){var serializedData=deepSerialize(options.extraData);for(i=0;i<serializedData.length;i++)if(serializedData[i])formdata.append(serializedData[i][0],serializedData[i][1]);}options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:method||'POST'});if(options.uploadProgress)s.xhr=function(){var xhr=$.ajaxSettings.xhr();if(xhr.upload)xhr.upload.addEventListener('progress',function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable)percent=Math.ceil(position/total*100);options.uploadProgress(event,position,total,percent);},false);return xhr;};s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){if(options.formData)o.data=options.formData;else o.data=formdata;if(beforeSend)beforeSend.call(this,xhr,o);};return $.ajax(s);}function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var deferred=$.Deferred();deferred.abort=function(status){xhr.abort(status);};if(a)for(i=0;i<elements.length;i++){el=$(elements[i]);if(hasProp)el.prop('disabled',false);else el.removeAttr('disabled');}s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id='jqFormIO'+new Date().getTime();var ownerDocument=form.ownerDocument;var $body=$form.closest('body');if(s.iframeTarget){$io=$(s.iframeTarget,ownerDocument);n=$io.attr2('name');if(!n)$io.attr2('name',id);else id=n;}else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />',ownerDocument);$io.css({position:'absolute',top:'-1000px',left:'-1000px'});}io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:'n/a',getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=(status==='timeout'?'timeout':'aborted');log('aborting upload... '+e);this.aborted=1;try{if(io.contentWindow.document.execCommand)io.contentWindow.document.execCommand('Stop');}catch(ignore){}$io.attr('src',s.iframeSrc);xhr.error=e;if(s.error)s.error.call(s.context,xhr,e,status);if(g)$.event.trigger('ajaxError',[xhr,s,e]);if(s.complete)s.complete.call(s.context,xhr,e);}};g=s.global;if(g&&$.active++===0)$.event.trigger('ajaxStart');if(g)$.event.trigger('ajaxSend',[xhr,s]);if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global)$.active--;deferred.reject();return deferred;}if(xhr.aborted){deferred.reject();return deferred;}sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type==='image'){s.extraData[n+'.x']=form.clk_x;s.extraData[n+'.y']=form.clk_y;}}}var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=null;try{if(frame.contentWindow)doc=frame.contentWindow.document;}catch(err){log('cannot get iframe.contentWindow document: '+err);}if(doc)return doc;try{doc=frame.contentDocument?frame.contentDocument:frame.document;}catch(err){log('cannot get iframe.contentDocument: '+err);doc=frame.document;}return doc;}var csrf_token=$('meta[name=csrf-token]').attr('content');var csrf_param=$('meta[name=csrf-param]').attr('content');if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token;}function doSubmit(){var t=$form.attr2('target'),a=$form.attr2('action'),mp='multipart/form-data',et=$form.attr('enctype')||$form.attr('encoding')||mp;form.setAttribute('target',id);if(!method||/post/i.test(method))form.setAttribute('method','POST');if(a!==s.url)form.setAttribute('action',s.url);if(!s.skipEncodingOverride&&(!method||/post/i.test(method)))$form.attr({encoding:'multipart/form-data',enctype:'multipart/form-data'});if(s.timeout)timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT);},s.timeout);function checkState(){try{var state=getDoc(io).readyState;log('state = '+state);if(state&&state.toLowerCase()==='uninitialized')setTimeout(checkState,50);}catch(e){log('Server abort: ',e,' (',e.name,')');cb(SERVER_ABORT);if(timeoutHandle)clearTimeout(timeoutHandle);timeoutHandle=undefined;}}var extraInputs=[];try{if(s.extraData)for(var n in s.extraData)if(s.extraData.hasOwnProperty(n))if($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty('name')&&s.extraData[n].hasOwnProperty('value'))extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">',ownerDocument).val(s.extraData[n].value).appendTo(form)[0]);else extraInputs.push($('<input type="hidden" name="'+n+'">',ownerDocument).val(s.extraData[n]).appendTo(form)[0]);if(!s.iframeTarget)$io.appendTo($body);if(io.attachEvent)io.attachEvent('onload',cb);else io.addEventListener('load',cb,false);setTimeout(checkState,15);try{form.submit();}catch(err){var submitFn=document.createElement('form').submit;submitFn.apply(form);}}finally{form.setAttribute('action',a);form.setAttribute('enctype',et);if(t)form.setAttribute('target',t);else $form.removeAttr('target');$(extraInputs).remove();}}if(s.forceSync)doSubmit();else setTimeout(doSubmit,10);var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed)return;doc=getDoc(io);if(!doc){log('cannot access response document');e=SERVER_ABORT;}if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort('timeout');deferred.reject(xhr,'timeout');return;}if(e===SERVER_ABORT&&xhr){xhr.abort('server abort');deferred.reject(xhr,'error','server abort');return;}if(!doc||doc.location.href===s.iframeSrc)if(!timedOut)return;if(io.detachEvent)io.detachEvent('onload',cb);else io.removeEventListener('load',cb,false);var status='success',errMsg;try{if(timedOut)throw 'timeout';var isXml=s.dataType==='xml'||doc.XMLDocument||$.isXMLDoc(doc);log('isXml='+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML))if(--domCheckCount){log('requeing onLoad callback, DOM not available');setTimeout(cb,250);return;}var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)s.dataType='xml';xhr.getResponseHeader=function(header){var headers={'content-type':s.dataType};return headers[header.toLowerCase()];};if(docRoot){xhr.status=Number(docRoot.getAttribute('status'))||xhr.status;xhr.statusText=docRoot.getAttribute('statusText')||xhr.statusText;}var dt=(s.dataType||'').toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName('textarea')[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute('status'))||xhr.status;xhr.statusText=ta.getAttribute('statusText')||xhr.statusText;}else{if(scr){var pre=doc.getElementsByTagName('pre')[0];var b=doc.getElementsByTagName('body')[0];if(pre)xhr.responseText=pre.textContent?pre.textContent:pre.innerText;else{if(b)xhr.responseText=b.textContent?b.textContent:b.innerText;}}}}else{if(dt==='xml'&&!xhr.responseXML&&xhr.responseText)xhr.responseXML=toXml(xhr.responseText);}try{data=httpData(xhr,dt,s);}catch(err){status='parsererror';xhr.error=errMsg=(err||status);}}catch(err){log('error caught: ',err);status='error';xhr.error=errMsg=(err||status);}if(xhr.aborted){log('upload aborted');status=null;}if(xhr.status)status=((xhr.status>=200&&xhr.status<300)||xhr.status===304)?'success':'error';if(status==='success'){if(s.success)s.success.call(s.context,data,'success',xhr);deferred.resolve(xhr.responseText,'success',xhr);if(g)$.event.trigger('ajaxSuccess',[xhr,s]);}else{if(status){if(typeof errMsg==='undefined')errMsg=xhr.statusText;if(s.error)s.error.call(s.context,xhr,status,errMsg);deferred.reject(xhr,'error',errMsg);if(g)$.event.trigger('ajaxError',[xhr,s,errMsg]);}}if(g)$.event.trigger('ajaxComplete',[xhr,s]);if(g&&!--$.active)$.event.trigger('ajaxStop');if(s.complete)s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)$io.remove();else $io.attr('src',s.iframeSrc);xhr.responseXML=null;},100);}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject('Microsoft.XMLDOM');doc.async='false';doc.loadXML(s);}else doc=(new DOMParser()).parseFromString(s,'text/xml');return (doc&&doc.documentElement&&doc.documentElement.nodeName!=='parsererror')?doc:null;};var parseJSON=$.parseJSON||function(s){return window['eval']('('+s+')');};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader('content-type')||'',xml=((type==='xml'||!type)&&ct.indexOf('xml')>=0),data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==='parsererror')if($.error)$.error('parsererror');if(s&&s.dataFilter)data=s.dataFilter(data,type);if(typeof data==='string')if((type==='json'||!type)&&ct.indexOf('json')>=0)data=parseJSON(data);else{if((type==='script'||!type)&&ct.indexOf('javascript')>=0)$.globalEval(data);}return data;};return deferred;}};$.fn.ajaxForm=function(options,data,dataType,onSuccess){if(typeof options==='string'||(options===false&&arguments.length>0)){options={'url':options,'data':data,'dataType':dataType};if(typeof onSuccess==='function')options.success=onSuccess;}options=options||{};options.delegation=options.delegation&&typeof $.fn.on==='function';if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log('DOM not ready, queuing ajaxForm');$(function(){$(o.s,o.c).ajaxForm(options);});return this;}log('terminating; zero elements found by selector'+($.isReady?'':' (DOM not ready)'));return this;}if(options.delegation){$(document).off('submit.form-plugin',this.selector,doAjaxSubmit).off('click.form-plugin',this.selector,captureSubmittingElement).on('submit.form-plugin',this.selector,options,doAjaxSubmit).on('click.form-plugin',this.selector,options,captureSubmittingElement);return this;}if(options.beforeFormUnbind)options.beforeFormUnbind(this,options);return this.ajaxFormUnbind().on('submit.form-plugin',options,doAjaxSubmit).on('click.form-plugin',options,captureSubmittingElement);};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(e.target).closest('form').ajaxSubmit(options);}}function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!$el.is('[type=submit],[type=image]')){var t=$el.closest('[type=submit]');if(t.length===0)return;target=t[0];}var form=target.form;form.clk=target;if(target.type==='image')if(typeof e.offsetX!=='undefined'){form.clk_x=e.offsetX;form.clk_y=e.offsetY;}else if(typeof $.fn.offset==='function'){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top;}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop;}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null;},100);}$.fn.ajaxFormUnbind=function(){return this.off('submit.form-plugin click.form-plugin');};$.fn.formToArray=function(semantic,elements,filtering){var a=[];if(this.length===0)return a;var form=this[0];var formId=this.attr('id');var els=(semantic||typeof form.elements==='undefined')?form.getElementsByTagName('*'):form.elements;var els2;if(els)els=$.makeArray(els);if(formId&&(semantic||/(Edge|Trident)\//.test(navigator.userAgent))){els2=$(':input[form="'+formId+'"]').get();if(els2.length)els=(els||[]).concat(els2);}if(!els||!els.length)return a;if(typeof (filtering)==="function")els=$.map(els,filtering);var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n||el.disabled)continue;if(semantic&&form.clk&&el.type==='image'){if(form.clk===el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}continue;}v=$.fieldValue(el,true);if(v&&v.constructor===Array){if(elements)elements.push(el);for(j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});}else if(feature.fileapi&&el.type==='file'){if(elements)elements.push(el);var files=el.files;if(files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:'',type:el.type});}else{if(v!==null&&typeof v!=='undefined'){if(elements)elements.push(el);a.push({name:n,value:v,type:el.type,required:el.required});}}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type==='image'){a.push({name:n,value:$input.val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}}return a;};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic));};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n)return;var v=$.fieldValue(this,successful);if(v&&v.constructor===Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else{if(v!==null&&typeof v!=='undefined')a.push({name:this.name,value:v});}});return $.param(a);};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v==='undefined'||(v.constructor===Array&&!v.length))continue;if(Array.isArray(v))val=val.concat(v);else val.push(v);}return val;};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(typeof successful==='undefined')successful=true;if(successful&&(!n||el.disabled||t==='reset'||t==='button'||(t==='checkbox'||t==='radio')&&!el.checked||(t==='submit'||t==='image')&&el.form&&el.form.clk!==el||tag==='select'&&el.selectedIndex===-1))return null;if(tag==='select'){var index=el.selectedIndex;if(index<0)return null;var a=[],ops=el.options;var one=(t==='select-one');var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected&&!op.disabled){var v=op.value;if(!v)v=(op.attributes&&op.attributes.value&&!(op.attributes.value.specified))?op.text:op.value;if(one)return v;a.push(v);}}return a;}return $(el).val().replace(rCRLF,'\r\n');};$.fn.clearForm=function(includeHidden){return this.each(function(){$('input,select,textarea',this).clearFields(includeHidden);});};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag==='textarea')this.value='';else if(t==='checkbox'||t==='radio')this.checked=false;else if(tag==='select')this.selectedIndex=-1;else if(t==='file')if(/MSIE/.test(navigator.userAgent))$(this).replaceWith($(this).clone(true));else $(this).val('');else{if(includeHidden)if((includeHidden===true&&/hidden/.test(t))||(typeof includeHidden==='string'&&$(this).is(includeHidden)))this.value='';}});};$.fn.resetForm=function(){return this.each(function(){var el=$(this);var tag=this.tagName.toLowerCase();switch(tag){case 'input':this.checked=this.defaultChecked;case 'textarea':this.value=this.defaultValue;return true;case 'option':case 'optgroup':var select=el.parents('select');if(select.length&&select[0].multiple)if(tag==='option')this.selected=this.defaultSelected;else el.find('option').resetForm();else select.resetForm();return true;case 'select':el.find('option').each(function(i){this.selected=this.defaultSelected;if(this.defaultSelected&&!el[0].multiple){el[0].selectedIndex=i;return false;}});return true;case 'label':var forEl=$(el.attr('for'));var list=el.find('input,select,textarea');if(forEl[0])list.unshift(forEl[0]);list.resetForm();return true;case 'form':if(typeof this.reset==='function'||(typeof this.reset==='object'&&!this.reset.nodeType))this.reset();return true;default:el.find('form,input,label,select,textarea').resetForm();return true;}});};$.fn.enable=function(b){if(typeof b==='undefined')b=true;return this.each(function(){this.disabled=!b;});};$.fn.selected=function(select){if(typeof select==='undefined')select=true;return this.each(function(){var t=this.type;if(t==='checkbox'||t==='radio')this.checked=select;else{if(this.tagName.toLowerCase()==='option'){var $sel=$(this).parent('select');if(select&&$sel[0]&&$sel[0].type==='select-one')$sel.find('option').selected(false);this.selected=select;}}});};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug)return;var msg='[jquery.form] '+Array.prototype.join.call(arguments,'');if(window.console&&window.console.log)window.console.log(msg);else{if(window.opera&&window.opera.postError)window.opera.postError(msg);}}}));;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal){const states={postponed:[]};Drupal.states=states;function invert(a,invertState){return invertState&&typeof a!=='undefined'?!a:a;}function compare(a,b){if(a===b)return typeof a==='undefined'?a:true;return typeof a==='undefined'||typeof b==='undefined';}function ternary(a,b){if(typeof a==='undefined')return b;if(typeof b==='undefined')return a;return a&&b;}Drupal.behaviors.states={attach(context,settings){const elements=once('states','[data-drupal-states]',context);const il=elements.length;for(let i=0;i<il;i++){const config=JSON.parse(elements[i].getAttribute('data-drupal-states'));Object.keys(config||{}).forEach((state)=>{new states.Dependent({element:$(elements[i]),state:states.State.sanitize(state),constraints:config[state]});});}while(states.postponed.length)states.postponed.shift()();}};states.Dependent=function(args){$.extend(this,{values:{},oldValue:null},args);this.dependees=this.getDependees();Object.keys(this.dependees||{}).forEach((selector)=>{this.initializeDependee(selector,this.dependees[selector]);});};states.Dependent.comparisons={RegExp(reference,value){return reference.test(value);},Function(reference,value){return reference(value);},Array(reference,value){if(!Array.isArray(value))return false;return JSON.stringify(reference.sort())===JSON.stringify(value.sort());},Number(reference,value){return typeof value==='string'?compare(reference.toString(),value):compare(reference,value);}};states.Dependent.prototype={initializeDependee(selector,dependeeStates){this.values[selector]={};Object.keys(dependeeStates).forEach((i)=>{let state=dependeeStates[i];if($.inArray(state,dependeeStates)===-1)return;state=states.State.sanitize(state);this.values[selector][state.name]=null;$(selector).on(`state:${state}`,{selector,state},(e)=>{this.update(e.data.selector,e.data.state,e.value);});new states.Trigger({selector,state});});},compare(reference,selector,state){const value=this.values[selector][state.name];if(reference.constructor.name in states.Dependent.comparisons)return states.Dependent.comparisons[reference.constructor.name](reference,value);return compare(reference,value);},update(selector,state,value){if(value!==this.values[selector][state.name]){this.values[selector][state.name]=value;this.reevaluate();}},reevaluate(){let value=this.verifyConstraints(this.constraints);if(value!==this.oldValue){this.oldValue=value;value=invert(value,this.state.invert);this.element.trigger({type:`state:${this.state}`,value,trigger:true});}},verifyConstraints(constraints,selector){let result;if(Array.isArray(constraints)){const hasXor=$.inArray('xor',constraints)===-1;const len=constraints.length;for(let i=0;i<len;i++)if(constraints[i]!=='xor'){const constraint=this.checkConstraints(constraints[i],selector,i);if(constraint&&(hasXor||result))return hasXor;result=result||constraint;}}else{if($.isPlainObject(constraints)){for(const n in constraints)if(constraints.hasOwnProperty(n)){result=ternary(result,this.checkConstraints(constraints[n],selector,n));if(result===false)return false;}}}return result;},checkConstraints(value,selector,state){if(typeof state!=='string'||/[0-9]/.test(state[0]))state=null;else{if(typeof selector==='undefined'){selector=state;state=null;}}if(state!==null){state=states.State.sanitize(state);return invert(this.compare(value,selector,state),state.invert);}return this.verifyConstraints(value,selector);},getDependees(){const cache={};const _compare=this.compare;this.compare=function(reference,selector,state){(cache[selector]||(cache[selector]=[])).push(state.name);};this.verifyConstraints(this.constraints);this.compare=_compare;return cache;}};states.Trigger=function(args){$.extend(this,args);if(this.state in states.Trigger.states){this.element=$(this.selector);if(!this.element.data(`trigger:${this.state}`))this.initialize();}};states.Trigger.prototype={initialize(){const trigger=states.Trigger.states[this.state];if(typeof trigger==='function')trigger.call(window,this.element);else Object.keys(trigger||{}).forEach((event)=>{this.defaultTrigger(event,trigger[event]);});this.element.data(`trigger:${this.state}`,true);},defaultTrigger(event,valueFn){let oldValue=valueFn.call(this.element);this.element.on(event,function(e){const value=valueFn.call(this.element,e);if(oldValue!==value){this.element.trigger({type:`state:${this.state}`,value,oldValue});oldValue=value;}}.bind(this));states.postponed.push(function(){this.element.trigger({type:`state:${this.state}`,value:oldValue,oldValue:null});}.bind(this));}};states.Trigger.states={empty:{keyup(){return this.val()==='';},change(){return this.val()==='';}},checked:{change(){let checked=false;this.each(function(){checked=$(this).prop('checked');return !checked;});return checked;}},value:{keyup(){if(this.length>1)return this.filter(':checked').val()||false;return this.val();},change(){if(this.length>1)return this.filter(':checked').val()||false;return this.val();}},collapsed:{collapsed(e){return typeof e!=='undefined'&&'value' in e?e.value:!this[0].hasAttribute('open');}}};states.State=function(state){this.pristine=state;this.name=state;let process=true;do{while(this.name.charAt(0)==='!'){this.name=this.name.substring(1);this.invert=!this.invert;}if(this.name in states.State.aliases)this.name=states.State.aliases[this.name];else process=false;}while(process);};states.State.sanitize=function(state){if(state instanceof states.State)return state;return new states.State(state);};states.State.aliases={enabled:'!disabled',invisible:'!visible',invalid:'!valid',untouched:'!touched',optional:'!required',filled:'!empty',unchecked:'!checked',irrelevant:'!relevant',expanded:'!collapsed',open:'!collapsed',closed:'collapsed',readwrite:'!readonly'};states.State.prototype={invert:false,toString(){return this.name;}};const $document=$(document);$document.on('state:disabled',(e)=>{const tagsSupportDisable='button, fieldset, optgroup, option, select, textarea, input';if(e.trigger)$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggleClass('form-disabled',e.value).find(tagsSupportDisable).addBack(tagsSupportDisable).prop('disabled',e.value);});$document.on('state:readonly',(e)=>{if(e.trigger)$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggleClass('form-readonly',e.value).find('input, textarea').prop('readonly',e.value);});$document.on('state:required',(e)=>{if(e.trigger)if(e.value){const label=`label${e.target.id?`[for=${e.target.id}]`:''}`;const $label=$(e.target).attr({required:'required','aria-required':'true'}).closest('.js-form-item, .js-form-wrapper').find(label);if(!$label.hasClass('js-form-required').length)$label.addClass('js-form-required form-required');}else $(e.target).removeAttr('required aria-required').closest('.js-form-item, .js-form-wrapper').find('label.js-form-required').removeClass('js-form-required form-required');});$document.on('state:visible',(e)=>{if(e.trigger){let $element=$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper');if(e.target.tagName==='A')$element=$(e.target);$element.toggle(e.value);}});$document.on('state:checked',(e)=>{if(e.trigger)$(e.target).closest('.js-form-item, .js-form-wrapper').find('input').prop('checked',e.value).trigger('change');});$document.on('state:collapsed',(e)=>{if(e.trigger)if(e.target.hasAttribute('open')===e.value)$(e.target).find('> summary').trigger('click');});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/js-cookie/js-cookie/v3.0.5/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o;};}());}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o];}return e;}var t=function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof (i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c;}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break;}catch(e){}}return e?o[e]:o;}},remove:function(t,n){r(t,"",e({},n,{expires:-1}));},withAttributes:function(n){return t(this.converter,e({},this.attributes,n));},withConverter:function(n){return t(e({},this.converter,n),this.attributes);}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}});}({read:function(e){return '"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent);}},{path:"/"});return t;}));;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(window){if(!window.rhdp_fe_app)window.rhdp_fe_app={sso:{attached:0},page_state:{attached:0},file_download:{attached:0,is_download_page:false}};if(!window.rhdp_fe_app.sso)window.rhdp_fe_app.sso={attached:0};if(!window.rhdp_fe_app.page_state)window.rhdp_fe_app.page_state={attached:0};if(!window.rhdp_fe_app.file_download)window.rhdp_fe_app.file_download={attached:0,is_download_page:false};window.rhdp_fe_app.urlParam=(name)=>{let queryString=window.location.search;let urlParams=new URLSearchParams(queryString);return urlParams.get(name);};let isDownloadURL=window.rhdp_fe_app.urlParam("tcDownloadURL")?true:false;let isDownloadFileName=window.rhdp_fe_app.urlParam("tcDownloadFileName")?true:false;let isProduct=window.rhdp_fe_app.urlParam("p")?true:false;if(isDownloadURL&&isDownloadFileName&&isProduct)window.rhdp_fe_app.file_download.is_download_page=true;else window.rhdp_fe_app.file_download.is_download_page=false;})(window);;
(function($,Drupal,rhdp_fe_app){Drupal.behaviors.page_state={attach:function(context,settings){rhdp_fe_app.page_state.attached++;if(rhdp_fe_app.page_state.attached>1)return;const _first_array_item=0;const _zero=0;const maxRegTime=86400000;document.addEventListener("pageUserUpdate",function(){pageUserUpdate();});document.addEventListener("updatePageUserAnalytics",function(){updatePageUserAnalytics();});document.addEventListener("updateAudienceSelectionState",function(){updateAudienceSelectionState();});function updateNavLoginState(){let tmp_keycloak=rhdp_fe_app.rhdKeycloak;let isAuthenticated=false;if(tmp_keycloak&&tmp_keycloak.authenticated)isAuthenticated=tmp_keycloak.authenticated;if(typeof rhAccountDropdown==="undefined"||rhAccountDropdown===null)return;if(isAuthenticated){if(rhAccountDropdown.hasDropdownComponent()){let mappedUserData={realm_access:tmp_keycloak.tokenParsed.realm_access,REDHAT_LOGIN:tmp_keycloak.tokenParsed.preferred_username,lastName:tmp_keycloak.tokenParsed.family_name?tmp_keycloak.tokenParsed.family_name:"User",account_number:tmp_keycloak.tokenParsed.rh_account_number,preferred_username:tmp_keycloak.tokenParsed.preferred_username,firstName:tmp_keycloak.tokenParsed.given_name?tmp_keycloak.tokenParsed.given_name:"RHD ",email:tmp_keycloak.tokenParsed.email,username:tmp_keycloak.tokenParsed.name};rhAccountDropdown.setLogOutState(mappedUserData);}}else{if(rhAccountDropdown.hasDropdownComponent())rhAccountDropdown.setLogInState();}}function updateAudienceSelectionState(){let tmp_keycloak=rhdp_fe_app.rhdKeycloak;let isAuthenticated=false;if(tmp_keycloak&&tmp_keycloak.authenticated)isAuthenticated=tmp_keycloak.authenticated;let authenticationValueShow;let authenticationValueRemove;let skipAudienceCheck=false;let onPageNav;let onPageNavItems;authenticationValueShow=isAuthenticated?"authenticated":"unauthenticated";authenticationValueRemove=isAuthenticated?"unauthenticated":"authenticated";if(drupalSettings.rhd_admin&&drupalSettings.rhd_admin["disable-audience-selection-display"]){skipAudienceCheck=true;$("[data-audience]").css("display","").addClass("rhd-show-auth-status");}onPageNav=document.querySelector(".assembly-type-on_page_navigation");if(onPageNav!==null){document.querySelectorAll('[data-audience="'+authenticationValueRemove+'"]').forEach(function(e){let hrefVal="#"+e.id;$(onPageNav.querySelector('a[href^="'+hrefVal+'"')).detach();});onPageNavItems=onPageNav.querySelectorAll("a");onPageNavItems.forEach(function(e){e.style.visibility="visible";});}if(!skipAudienceCheck){$('[data-audience="'+authenticationValueShow+'"]').show();$('[data-audience="'+authenticationValueRemove+'"]').detach();}}function updatePageUserAnalytics(){let usr;let ddUserAuthEvent;prepareUserData();window.digitalData=window.digitalData||{};window.digitalData.user=window.digitalData.user||[{profile:[{profileInfo:{}}]}];usr=window.digitalData.user[_first_array_item].profile[_first_array_item].profileInfo;ddUserAuthEvent={eventInfo:{eventName:"user data",eventAction:"available",user:[{profile:[{profileInfo:usr}]}],timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.digitalData.event=window.digitalData.event||[];window.digitalData.event.push(ddUserAuthEvent);sendCustomEvent('ajaxAuthEvent');window.rhd_userDataSent=1;}function pageUserUpdate(){let tmp_keycloak=rhdp_fe_app.rhdKeycloak;let isAuthenticated=false;if(tmp_keycloak&&tmp_keycloak.authenticated)isAuthenticated=tmp_keycloak.authenticated;if(isAuthenticated)$("a.rhd-c-login-button").on("click",function(e){e.preventDefault();let redirectUri=rhdp_fe_app.page_state.createRedirectUri();window.location.href=redirectUri;});else $("a.rhd-c-login-button").on("click",function(e){e.preventDefault();let redirectUri=rhdp_fe_app.page_state.createRedirectUri();tmp_keycloak.login({redirectUri});});updateNavLoginState();}rhdp_fe_app.page_state.createRedirectUri=function(){let destination=window.location.protocol+"//"+window.location.host;if(window.location.pathname==="/user/login")return destination+"/contributor/dashboard?source=sso";const queryString=window.location.search;const urlParams=new URLSearchParams(queryString);if(!queryString)return window.location.href+"?source=sso";if(queryString&&urlParams.get("source"))return window.location.href;return window.location.href+"&source=sso";};function getCookie(name){let re=new RegExp("(?:(?:^|.*;\\s*)"+name+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(re,"$1");}function prepareUserData(){let tmp_keycloak=rhdp_fe_app.rhdKeycloak;let isAuthenticated=false;if(tmp_keycloak&&tmp_keycloak.authenticated)isAuthenticated=tmp_keycloak.authenticated;let usr={};let swelHeaders;window.digitalData=window.digitalData||{};window.digitalData.user=window.digitalData.user||[{profile:[{profileInfo:{}}]}];usr=window.digitalData.user[_first_array_item].profile[_first_array_item].profileInfo;if(isAuthenticated){usr.loggedIn=true;usr.keyCloakID=tmp_keycloak.tokenParsed.id;usr.socialAccountsLinked=[];if(tmp_keycloak.tokenParsed["user-social-links"]){for(let social in tmp_keycloak.tokenParsed["user-social-links"])if(social!=='')usr.socialAccountsLinked.push(social);}if(Headers&&tmp_keycloak.token&&drupalSettings.rhd.swel.url){swelHeaders=new Headers();swelHeaders.append("Authorization","Bearer "+tmp_keycloak.token);fetch(drupalSettings.rhd.swel.url+"/api/analytics/usr/v1/websiteregstatus/rhd",{method:"GET",headers:swelHeaders,mode:"cors"}).then(function(req){return req.json();}).then(function(resp){let dt;let rt;let ck;if(resp&&resp.registrationTimestamp){dt=new Date().getTime();rt=new Date(resp.registrationTimestamp).getTime();ck=getCookie("rhd_logged");if(dt-rt<maxRegTime&&ck.length===_zero){document.cookie="rhd_logged=true; expires=Fri, 31 Dec 9999 23:59:59 GMT";document.cookie="rhd_registered=true; expires=Fri, 31 Dec 9999 23:59:59 GMT";}}});}}window.digitalData.user[_first_array_item].profile[_first_array_item].profileInfo=usr;}let isLayoutBuilderForm=document.querySelector(".node-layout-builder-form");if(isLayoutBuilderForm!==null)$(document).ajaxComplete(function(){document.dispatchEvent(new Event("updateAudienceSelectionState"));});}};})(jQuery,Drupal,rhdp_fe_app);;
(function($,window){var htmlSpecialCharsRegEx=/[<>&\r\n"']/gm;var htmlSpecialCharsPlaceHolders={'<':'lt;','>':'gt;','&':'amp;','\r':"#13;",'\n':"#10;",'"':'quot;',"'":'#39;'};$.extend({fileDownload:function(fileUrl,options){var settings=$.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:true},prepareCallback:function(url){},successCallback:function(url){},abortCallback:function(url){},failCallback:function(responseHtml,url,error){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:true},options);var deferred=new $.Deferred();var userAgent=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();var isIos;var isAndroid;var isOtherMobileBrowser;if(/ip(ad|hone|od)/.test(userAgent))isIos=true;else if(userAgent.indexOf('android')!==-1)isAndroid=true;else isOtherMobileBrowser=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4));var httpMethodUpper=settings.httpMethod.toUpperCase();if(isAndroid&&httpMethodUpper!=="GET"&&settings.androidPostUnsupportedMessageHtml){if($().dialog)$("<div>").html(settings.androidPostUnsupportedMessageHtml).dialog(settings.dialogOptions);else alert(settings.androidPostUnsupportedMessageHtml);return deferred.reject();}var $preparingDialog=null;var internalCallbacks={onPrepare:function(url){if(settings.preparingMessageHtml)$preparingDialog=$("<div>").html(settings.preparingMessageHtml).dialog(settings.dialogOptions);else{if(settings.prepareCallback)settings.prepareCallback(url);}},onSuccess:function(url){if($preparingDialog)$preparingDialog.dialog('close');settings.successCallback(url);deferred.resolve(url);},onAbort:function(url){if($preparingDialog)$preparingDialog.dialog('close');;settings.abortCallback(url);deferred.reject(url);},onFail:function(responseHtml,url,error){if($preparingDialog)$preparingDialog.dialog('close');if(settings.failMessageHtml)$("<div>").html(settings.failMessageHtml).dialog(settings.dialogOptions);settings.failCallback(responseHtml,url,error);deferred.reject(responseHtml,url);}};internalCallbacks.onPrepare(fileUrl);if(settings.data!==null&&typeof settings.data!=="string")settings.data=$.param(settings.data);var $iframe,downloadWindow,formDoc,$form;if(httpMethodUpper==="GET"){if(settings.data!==null){var qsStart=fileUrl.indexOf('?');if(qsStart!==-1){if(fileUrl.substring(fileUrl.length-1)!=="&")fileUrl=fileUrl+"&";}else fileUrl=fileUrl+"?";fileUrl=fileUrl+settings.data;}if(isIos||isAndroid){downloadWindow=window.open(fileUrl);downloadWindow.document.title=settings.popupWindowTitle;window.focus();}else if(isOtherMobileBrowser)window.location(fileUrl);else $iframe=$("<iframe style='display: none' src='"+fileUrl+"'></iframe>").appendTo("body");}else{var formInnerHtml="";if(settings.data!==null)$.each(settings.data.replace(/\+/g,' ').split("&"),function(){var kvp=this.split("=");var k=kvp[0];kvp.shift();var v=kvp.join("=");kvp=[k,v];var key=settings.encodeHTMLEntities?htmlSpecialCharsEntityEncode(decodeURIComponent(kvp[0])):decodeURIComponent(kvp[0]);if(key){var value=settings.encodeHTMLEntities?htmlSpecialCharsEntityEncode(decodeURIComponent(kvp[1])):decodeURIComponent(kvp[1]);formInnerHtml+='<input type="hidden" name="'+key+'" value="'+value+'" />';}});if(isOtherMobileBrowser){$form=$("<form>").appendTo("body");$form.hide().prop('method',settings.httpMethod).prop('action',fileUrl).html(formInnerHtml);}else{if(isIos){downloadWindow=window.open("about:blank");downloadWindow.document.title=settings.popupWindowTitle;formDoc=downloadWindow.document;window.focus();}else{$iframe=$("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body");formDoc=getiframeDocument($iframe);}formDoc.write("<html><head></head><body><form method='"+settings.httpMethod+"' action='"+fileUrl+"'>"+formInnerHtml+"</form>"+settings.popupWindowTitle+"</body></html>");$form=$(formDoc).find('form');}$form.submit();}setTimeout(checkFileDownloadComplete,settings.checkInterval);function checkFileDownloadComplete(){var cookieValue=settings.cookieValue;if(typeof cookieValue=='string')cookieValue=cookieValue.toLowerCase();var lowerCaseCookie=settings.cookieName.toLowerCase()+"="+cookieValue;if(document.cookie.toLowerCase().indexOf(lowerCaseCookie)>-1){internalCallbacks.onSuccess(fileUrl);var cookieData=settings.cookieName+"=; path="+settings.cookiePath+"; expires="+new Date(0).toUTCString()+";";if(settings.cookieDomain)cookieData+=" domain="+settings.cookieDomain+";";document.cookie=cookieData;cleanUp(false);return;}if(downloadWindow||$iframe)try{var formDoc=downloadWindow?downloadWindow.document:getiframeDocument($iframe);if(formDoc&&formDoc.body!==null&&formDoc.body.innerHTML.length){var isFailure=true;if($form&&$form.length){var $contents=$(formDoc.body).contents().first();try{if($contents.length&&$contents[0]===$form[0])isFailure=false;}catch(e){if(e&&e.number==-2146828218)isFailure=true;else throw e;}}if(isFailure){setTimeout(function(){internalCallbacks.onFail(formDoc.body.innerHTML,fileUrl);cleanUp(true);},100);return;}}}catch(err){internalCallbacks.onFail('',fileUrl,err);cleanUp(true);return;}setTimeout(checkFileDownloadComplete,settings.checkInterval);}function getiframeDocument($iframe){var iframeDoc=$iframe[0].contentWindow||$iframe[0].contentDocument;if(iframeDoc.document)iframeDoc=iframeDoc.document;return iframeDoc;}function cleanUp(isFailure){setTimeout(function(){if(downloadWindow){if(isAndroid)downloadWindow.close();if(isIos)if(downloadWindow.focus){downloadWindow.focus();if(isFailure)downloadWindow.close();}}},0);}function htmlSpecialCharsEntityEncode(str){return str.replace(htmlSpecialCharsRegEx,function(match){return '&'+htmlSpecialCharsPlaceHolders[match];});}var promise=deferred.promise();promise.abort=function(){cleanUp();$iframe.attr('src','').html('');internalCallbacks.onAbort(fileUrl);};return promise;}});})(jQuery,this||window);;
(function($,Drupal,rhdp_fe_app){Drupal.behaviors.rhdp_fe_file_download={attach:function(context,settings){rhdp_fe_app.file_download.attached++;if(rhdp_fe_app.file_download.attached>1)return;const downloadTypes=["media","cloud","product","eol","gated asset","gated course","gated link","gated trial","redirect"];document.addEventListener("rhdp_feDownloadFile",function(){download();});document.addEventListener("rhdp_feHideDownloadMessage",function(){hideDownloadMessage();});function hideDownloadMessage(){$("div#downloadthankyou").hide();}function getAlertTemplate(tmpDownloadUrl){const messageTemplate=`
          <div class="component rhd-m-max-width-xl rhd-c-product-download-alert pf-c-content pf-u-py-xl" id="downloadthankyou">
              <div class="pf-c-alert pf-m-success" aria-label="Success alert">
                  <div class="pf-c-alert__icon">
                      <i class="fas fa-fw fa-check-circle" aria-hidden="true"></i>
                  </div>
                  <p class="pf-c-alert__title pf-u-font-size-2xl">
                      <span class="pf-screen-reader">Success alert:</span>
                      Thank you for downloading!
                  </p>
                  <div class="pf-c-alert__description">
                      <p>
                      Your download should start automatically.
                      If you have any problems with the download, please use the
                      <a id="tcDownloadLink" href="${tmpDownloadUrl}"> direct link</a>.
                      </p>
                  </div>
              </div>
          </div>
          `;return messageTemplate;}function download(){let tcDownloadURL=encodeURI(rhdp_fe_app.urlParam("tcDownloadURL"));let tcDownloadFileName=encodeURI(rhdp_fe_app.urlParam("tcDownloadFileName"));let product=rhdp_fe_app.urlParam("p");product=decodeURI(product);let productArray=product.split(':');if(Array.isArray(productArray)&&productArray.length>=2&&downloadTypes.includes(productArray[0].toLowerCase())){productArray.shift();product=productArray.join(":");}let tcProduct=product.trim();let ddDownloadEvent={eventInfo:{eventAction:"download",eventName:"download",fileName:tcDownloadFileName,fileType:tcProduct,productDetail:tcProduct,timeStamp:new Date(),processed:{adobeAnalytics:false}}};tcDownloadURL=tcDownloadURL.replace("&source=sso","");if(rhdp_fe_app.file_download.is_download_page&&tcDownloadURL&&tcProduct)$("main").prepend(getAlertTemplate(tcDownloadURL));if(rhdp_fe_app.file_download.is_download_page&&tcDownloadURL&&tcDownloadURL.startsWith("https://access.cdn.redhat.com/")&&tcDownloadURL.includes(tcDownloadFileName)){$.fileDownload(tcDownloadURL);pushDataLayerProductDownload(tcDownloadFileName,tcProduct);}sendTrackingData(ddDownloadEvent);}function pushDataLayerProductDownload(downloadFileName,product){if(!downloadFileName)return;window.dataLayer=window.dataLayer||[];window.dataLayer.push({product_download_file_name:downloadFileName});window.dataLayer.push({event:"Product Download Requested"});document.dispatchEvent(new ReporterEvent("Download Started",{fileName:downloadFileName,fileType:downloadFileName.split('.').pop(),product:[{productInfo:{name:product,productID:'',sku:''}}]}));}function sendTrackingData(tmpDdDownloadEvent){if(!tmpDdDownloadEvent)return;window.digitalData=window.digitalData||{};digitalData.event=digitalData.event||[];digitalData.event.push(tmpDdDownloadEvent);sendCustomEvent("downloadEvent");}}};})(jQuery,Drupal,window.rhdp_fe_app);;
/* eslint-disable no-magic-numbers */
(function ($, Drupal) {
  let seeMoreArray = [];
  Drupal.behaviors.view_exposed_filters = {
    attach: function (context, settings) {
      if (context !== document) {
        return;
      }

      let accordions = $("details.form-wrapper", context);

      function seeMoreButton() {
        accordions.each(function (index) {
          let accordion = $(this);
          let filterOptions = accordion.find(
            ".form-checkboxes.bef-checkboxes"
          );
          let options = filterOptions.find(".js-form-type-checkbox");
          let seeMoreButton = $("<button>")
            .text("See More")
            .addClass(
              `pf-m-primary pf-u-mr-md pf-u-ml-0 see-more see-more-${index}`
            );
          seeMoreButton.on("click", function (e) {
            seeMoreArray.push(`see-more-${index}`);
            options.slice(5).show();
            e.preventDefault();
            seeMoreButton.hide();
          });

          if (options.length > 5) {
            accordion.append(seeMoreButton);
            options.slice(5).hide();
          }

          if (seeMoreArray.length > 0) {
            seeMoreArray.forEach(function (item) {
              let seeMoreClickedButton = accordion.find(`.${item}`);
              seeMoreClickedButton.hide();
              let options = seeMoreClickedButton
                .siblings(".form-checkboxes")
                .find(".js-form-type-checkbox");
              options.slice(5).show();
            });
          }
        });
      }

      // Add the see more buttons.
      seeMoreButton();

      function accordionForMobile(tmp_accordions) {
        tmp_accordions.each(function () {
          let filterOptions = $(this).find(
            ".form-checkboxes.bef-checkboxes"
          );
          let options = filterOptions.find(".js-form-type-checkbox");
          if ($(window).innerWidth() < 768) {
            $(this).removeAttr("open");
            options.each(function () {
              if ($(this).find('input[type="checkbox"]').is(":checked")) {
                let accordion = $(this).parents('.form-wrapper')
                accordion.attr("open", "open");
              }
            })
          } else {
            $(this).attr("open", "open");
          }
        });
      }

      // When mobile close filters.
      accordionForMobile(accordions);

      // When mobile close filters on resize.
      $(window).resize(function () {
        clearTimeout($.data(this, 'resizeTimer'));
        $.data(this, 'resizeTimer', setTimeout(function() {
          accordionForMobile(accordions)
        }, 150));
      })

      // Process initial accordions.
      accordions.each(function () {
        let accordion = $(this);
        let filterOptions = accordion.find(".form-checkboxes.bef-checkboxes");
        let options = filterOptions.find(".js-form-type-checkbox");

        // Move selected options to the top within their parent
        if (options.length > 5) {
          let selectedInputs = options.find('input[type="checkbox"]:checked');
          selectedInputs.each(function () {
            let parentOption = $(this).closest(".js-form-type-checkbox");
            parentOption.prependTo(filterOptions);
          });
        }

        // Update options when any checkbox gets checked.
        options.each(function () {
          let checkbox = $(this).find('input[type="checkbox"]');
          checkbox.on("change", function () {
            updateFilterOptions(accordion);
          });
        });

        // Add number of items attribute and show attribute.
        accordion.attr("item-count", options.length);
        if (options.length === 0) {
          accordion.attr("show-item", 'no');
        } else {
          accordion.attr("show-item", 'yes');
        }
      });

      //Update filter options
      function updateFilterOptions(accordion) {
        let filterOptions = accordion.find(".form-checkboxes.bef-checkboxes");
        let options = filterOptions.find(".js-form-type-checkbox");
        let selectedOptions = [];
        let unselectedOptions = [];

        //Iterate over all options and push them to their arrays.
        if (options.length > 5){
          options.each(function () {
            if ($(this).find('input[type="checkbox"]').is(":checked")) {
              selectedOptions.push(this);
            } else {
              unselectedOptions.push(this);
            }
          });

          filterOptions.empty();
          selectedOptions.forEach(function (option) {
            filterOptions.append(option);
          });
          unselectedOptions.forEach(function (option) {
            filterOptions.append(option);
          });
        }

        // Add number of items attribute and show attribute.
        accordion.attr("item-count", options.length);
        if (options.length === 0) {
          accordion.attr("show-item", 'no');
        } else {
          accordion.attr("show-item", 'yes');
        }
      }

      // RHDX-4913: Adding functionality to remove query parameters after clicking reset button.
      $('input[name="reset"]').on('click', function() {
        var newUrl = window.location.href.split('?')[0];
        $.ajax({
          url: newUrl,
          type: 'GET',
          success: function(data) {
            history.pushState(null, null, newUrl);
          },
          error: function(error) {
            console.error('Ajax request failed:', error);
          }
        });
      });

      // Reattach behavior after each AJAX request
      if (settings.ajax) {
        $(document).ajaxComplete(function () {
          // Get the latest accordion values.
          let accordions = $("details.form-wrapper", context);
          accordions.each(function () {
            updateFilterOptions($(this));
          });
        });
      }
    }
  };
})(jQuery, Drupal);
;
